# TzTrood

ะะฝัะตะปะปะตะบััะฐะปัะฝัะน ัะตัะฒะตั ะฝะฐ Go ั ะผะฐัััััะธะทะฐัะธะตะน ะฝะฐ ะพัะฝะพะฒะต ะธะฝัะตะฝัะพะฒ, Redis-ะบะตัะธัะพะฒะฐะฝะธะตะผ ะธ fallback ะฝะฐ ัะตะปะพะฒะตัะตัะบะพะณะพ ะฐะณะตะฝัะฐ.

## ๐ ะกัะตะบ ัะตัะฝะพะปะพะณะธะน

- **Go** โ ะพัะฝะพะฒะฝะพะน ัะทัะบ ัะฐะทัะฐะฑะพัะบะธ
- **Gin** โ HTTP-ััะตะนะผะฒะพัะบ
- **Redis** โ ััะฐะฝะธะปะธัะต ะธะฝัะตะฝัะพะฒ ะธ ะพัะฒะตัะพะฒ
- **NLP-ัะตัะฒะธั** โ ััะพัะพะฝะฝะธะน ะผะธะบัะพัะตัะฒะธั ะดะปั ะฐะฝะฐะปะธะทะฐ ะธะฝัะตะฝัะฐ
- **Logrus** โ ะปะพะณะธัะพะฒะฐะฝะธะต

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
TzTrood/
โโโ cmd/
โ   โโโ server/
โ       โโโ main.go               # ะขะพัะบะฐ ะฒัะพะดะฐ
โโโ internal/
โ   โโโ server/
โ       โโโ config/               # ะะพะฝัะธะณััะฐัะธั ะฟัะธะปะพะถะตะฝะธั
โ       โ   โโโ config.go
โ       โโโ delivery/
โ       โ   โโโ httpapi/
โ       โ       โโโ handlers/
โ       โ           โโโ messageHandler.go
โ       โโโ repository/          # ะะตะฟะพะทะธัะพัะธะธ ะดะฐะฝะฝัั
โ       โ   โโโ interface.go      # ะะฝัะตััะตะนัั ััะฐะฝะธะปะธั
โ       โ   โโโ nlp/              # ะะฐะฑะพัะฐ ั NLP-ัะตัะฒะธัะพะผ
โ       โ   โ   โโโ httpNLP.go
โ       โ   โโโ redisdb/          # ะะฐะฑะพัะฐ ั Redis
โ       โ       โโโ start.go
```

## ๐ ะะฐะฟััะบ

1. ะฃะฑะตะดะธัะตัั, ััะพ ั ะฒะฐั ะทะฐะฟััะตะฝั Redis, NLP-ัะตัะฒะธั ะธ ัะตัะฒะธั ัะตะปะพะฒะตะบ-ะฐะณะตะฝั.

2. ะะฐะฟัััะธัะต ัะตัะฒะตั:

```bash
go run ./cmd/main.go
```

ะกะตัะฒะตั ะฟะพะดะฝะธะผะตััั ะฝะฐ ะฟะพััั `:8080`.

## ๐ก API

### `POST /message`

ะะฐะฟัะพั:
```json
{
   "text": "ะบะฐะบ ะฟะพะปััะธัั ัะฟัะฐะฒะบั?"
}
```

ะัะฒะตั:
```json
{
   "response": "ะั ะผะพะถะตัะต ะฟะพะปััะธัั ัะฟัะฐะฒะบั ะฒ ัะฐะทะดะตะปะต ะะพะผะพัั."
}
```

## ๐ ะะพะฒะตะดะตะฝะธะต ัะตัะฒะตัะฐ

1. ะะพะปััะฐะตั JSON-ะทะฐะฟัะพั ะพั ะฟะพะปัะทะพะฒะฐัะตะปั.
2. ะัะฟัะฐะฒะปัะตั ัะตะบัั ะฒ NLP-ัะตัะฒะธั ะดะปั ะพะฟัะตะดะตะปะตะฝะธั ะธะฝัะตะฝัะฐ.
3. ะัะตั ะณะพัะพะฒัะน ะพัะฒะตั ะฒ Redis:
   - ะัะปะธ ะฝะฐะนะดะตะฝ โ ะพัะฟัะฐะฒะปัะตั ะตะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั.
   - ะัะปะธ ะฝะตั โ ะฟะตัะตััะปะฐะตั ะทะฐะฟัะพั ะฝะฐ ัะตัะฒะธั ัะตะปะพะฒะตะบ-ะฐะณะตะฝั ะธ ะบะตัะธััะตั ะฟะพะปััะตะฝะฝัะน ะพัะฒะตั ะฒ Redis.

![ะััะธัะตะบัััะฐ TzTrood](./TzTrood.svg)

## ๐ ะะพะฝัะธะณััะฐัะธั

ะัะต ะฟะฐัะฐะผะตััั ะทะฐะดะฐัััั ะฒ `config.NewMock()`:

```go
HttpPort:          ":8080",
ServiceHumanAgent: "http://localhost:9000/human",
NLPAddress:        "http://localhost:8000/analyze",
Redis:             { Addr: "localhost:6379", DB: 0 },
```

## ๐งช ะัะธะผะตั ะทะฐะฟัะพัะฐ ัะตัะตะท curl

```bash
curl -X POST http://localhost:8080/message \
  -H "Content-Type: application/json" \
  -d '{"text": "ะบะฐะบ ัะผะตะฝะธัั ะฟะฐัะพะปั?"}'
```
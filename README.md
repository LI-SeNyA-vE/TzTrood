# TzTrood

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –Ω–∞ Go —Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω—Ç–µ–Ω—Ç–æ–≤, Redis-–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ fallback –Ω–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –∞–≥–µ–Ω—Ç–∞.

## üõ† –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **Go** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Gin** ‚Äî HTTP-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Redis** ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∏–Ω—Ç–µ–Ω—Ç–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- **NLP-—Å–µ—Ä–≤–∏—Å** ‚Äî —Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–Ω—Ç–µ–Ω—Ç–∞
- **Logrus** ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
TzTrood/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ main.go                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îî‚îÄ‚îÄ server/
‚îÇ       ‚îú‚îÄ‚îÄ config/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (mock)
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ config.go
‚îÇ       ‚îú‚îÄ‚îÄ repository/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ interface.go      # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ nlp/              # –†–∞–±–æ—Ç–∞ —Å NLP-—Å–µ—Ä–≤–∏—Å–æ–º
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ httpNLP.go
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ redisdb/          # –†–∞–±–æ—Ç–∞ —Å Redis
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ start.go
```

## üöÄ –ó–∞–ø—É—Å–∫

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –∑–∞–ø—É—â–µ–Ω—ã Redis, NLP-—Å–µ—Ä–≤–∏—Å –∏ —Å–µ—Ä–≤–∏—Å —á–µ–ª–æ–≤–µ–∫-–∞–≥–µ–Ω—Ç.

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:

```bash
go run ./cmd/main.go
```

–°–µ—Ä–≤–µ—Ä –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è –Ω–∞ –ø–æ—Ä—Ç—É `:8080`.

## üì° API

### `POST /message`

–ó–∞–ø—Ä–æ—Å:
```json
{
   "text": "–∫–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É?"
}
```

–û—Ç–≤–µ—Ç:
```json
{
   "response": "–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É –≤ —Ä–∞–∑–¥–µ–ª–µ –ü–æ–º–æ—â—å."
}
```

## üîÑ –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

1. –ü–æ–ª—É—á–∞–µ—Ç JSON-–∑–∞–ø—Ä–æ—Å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –≤ NLP-—Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏–Ω—Ç–µ–Ω—Ç–∞.
3. –ò—â–µ—Ç –≥–æ—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç –≤ Redis:
   - –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
   - –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–∏—Å —á–µ–ª–æ–≤–µ–∫-–∞–≥–µ–Ω—Ç –∏ –∫–µ—à–∏—Ä—É–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ Redis.

![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ TzTrood](./TzTrood.svg)

## üìå –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–¥–∞—é—Ç—Å—è –≤ `config.NewMock()`:

```go
HttpPort:          ":8080",
ServiceHumanAgent: "http://localhost:9000/human",
NLPAddress:        "http://localhost:8000/analyze",
Redis:             { Addr: "localhost:6379", DB: 0 },
```

## üß™ –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ curl

```bash
curl -X POST http://localhost:8080/message \
  -H "Content-Type: application/json" \
  -d '{"text": "–∫–∞–∫ —Å–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å?"}'
```